(()=>{var e={118:(e,t,r)=>{const o=r(112);e.exports=()=>{const e=o(),t=o("computer"),r=()=>e,s=()=>t,n=()=>r().getGameBoard().allShipsSunk()||s().getGameBoard().allShipsSunk();return{getPlayer1:r,getPlayer2:s,gameOver:n,declareWinner:()=>{n()&&(r.getGameBoard().allShipsSunk()?alert("Congratulations, you've won!"):s.getGameBoard().allShipsSunk()?alert("Sorry, you've lost"):alert("The game is a draw"))}}}},235:(e,t,r)=>{const o=r(834);e.exports=()=>{const e=(()=>{const e=[];for(let t=0;t<10;t+=1){const t=[];for(let e=0;e<10;e+=1){const e=["empty"];t.push(e)}e.push(t)}return e})(),t=()=>e,r=[],s=()=>r;return{getGrid:t,getShips:s,placeShip:(s,n,i="x")=>{if(((t,r,o)=>{let s=r[0],n=r[1];if("x"===o){const r=n+t-1;for(;n<=r;){if("o"===e[s][n][0])return!0;n+=1}}else if("y"===o){const r=s+t-1;for(;s<=r;){if("o"===e[s][n][0])return!0;s+=1}}return!1})(s,n,i))throw new Error("Space is already occupied");const a=((e,r,o,s)=>{if(t()[r[0]][r[1]]=["o"],s.getShipCoords().push(r),"x"===o){let o=r[1]+1;for(;o<r[1]+e;)t()[r[0]][o]=["o"],s.getShipCoords().push([r[0],o]),o+=1}else if("y"===o){let o=r[0]+1;for(;o<r[0]+e;)t()[o][r[1]]=["o"],s.getShipCoords().push([o,r[1]]),o+=1}return s})(s,n,i,o(s));return r.push(a),a},receiveAttack:t=>{let o=!1;for(let s=0;s<r.length;s+=1){const n=r[s];for(let r=0;r<n.getShipCoords().length;r+=1){const s=n.getShipCoords()[r];JSON.stringify(t)===JSON.stringify(s)&&(n.hit(),e[t[0]][t[1]]=["x"],o=!0)}}o||(e[t[0]][t[1]]=["."])},allShipsSunk:()=>{for(let e=0;e<r.length;e+=1)if(!r[e].isSunk())return!1;return!0},getShipIdxfromGridCoords:e=>{for(let t=0;t<s().length;t+=1){const r=s()[t];for(let o=0;o<r.getShipCoords().length;o+=1){const s=r.getShipCoords()[o];if(JSON.stringify(e)===JSON.stringify(s))return t}}return null}}}},112:(e,t,r)=>{const o=r(235);e.exports=(e="player")=>{const t=o(),r=e;return{getGameBoard:()=>t,getPlayerType:()=>r}}},834:e=>{e.exports=(e=1)=>{const t=e;let r=0;const o=()=>t,s=()=>r,n=[];return{getLength:o,getHitNum:s,isSunk:()=>s()>=o(),hit:()=>{r=1},getShipCoords:()=>n}}}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}(()=>{const e=r(118)(),t=document.querySelector(".grid-container"),o=e.getPlayer1().getGameBoard().getGrid(),s=e.getPlayer1().getGameBoard();s.placeShip(5,[3,3],"y"),s.placeShip(4,[1,5]),s.placeShip(3,[1,2],"y"),s.placeShip(3,[6,6]),s.placeShip(2,[4,7],"y");for(let e=0;e<o.length;e+=1)for(let r=0;r<o.length;r+=1){const s=document.createElement("div");"empty"!==o[e][r][0]&&(s.innerHTML=o[e][r][0]),s.classList.add(o[e][r][0]),s.classList.add(JSON.stringify([e,r])),t.appendChild(s)}const n=document.querySelector(".opponent-grid-container"),i=e.getPlayer2().getGameBoard(),a=e.getPlayer2().getGameBoard().getGrid();i.placeShip(5,[3,3],"y"),i.placeShip(4,[1,5]),i.placeShip(3,[1,2],"y"),i.placeShip(3,[6,6]),i.placeShip(2,[4,7],"y");for(let e=0;e<a.length;e+=1)for(let t=0;t<a.length;t+=1){const r=document.createElement("div");r.classList.add(o[e][t][0]),r.classList.add(JSON.stringify([e,t])),n.appendChild(r)}n.addEventListener("click",(e=>{if(e.target.classList.contains("o")){let t;e.target.innerHTML="x",e.target.classList.remove("o"),e.target.classList.add("x");for(let r=0;r<e.target.classList.length;r+=1){const o=e.target.classList[r];"["===o[0]&&(t=JSON.parse(o))}const r=i.getShipIdxfromGridCoords(t);i.getShips()[r].hit()}}))})()})();